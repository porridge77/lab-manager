{"ast":null,"code":"export default {\n  name: 'Home',\n  data() {\n    return {\n      tableData: [],\n      selectedWeek: 1,\n      currentSemester: '',\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      days: [{\n        value: '星期一',\n        label: '一'\n      }, {\n        value: '星期二',\n        label: '二'\n      }, {\n        value: '星期三',\n        label: '三'\n      }, {\n        value: '星期四',\n        label: '四'\n      }, {\n        value: '星期五',\n        label: '五'\n      }],\n      options: [{\n        value: 1,\n        label: 1\n      }, {\n        value: 2,\n        label: 2\n      }, {\n        value: 3,\n        label: 3\n      }, {\n        value: 4,\n        label: 4\n      }, {\n        value: 5,\n        label: 5\n      }, {\n        value: 6,\n        label: 6\n      }, {\n        value: 7,\n        label: 7\n      }, {\n        value: 8,\n        label: 8\n      }, {\n        value: 9,\n        label: 9\n      }, {\n        value: 10,\n        label: 10\n      }, {\n        value: 11,\n        label: 11\n      }, {\n        value: 12,\n        label: 12\n      }, {\n        value: 13,\n        label: 13\n      }, {\n        value: 14,\n        label: 14\n      }, {\n        value: 15,\n        label: 15\n      }, {\n        value: 16,\n        label: 16\n      }, {\n        value: 17,\n        label: 17\n      }, {\n        value: 18,\n        label: 18\n      }, {\n        value: 19,\n        label: 19\n      }, {\n        value: 20,\n        label: 20\n      }]\n    };\n  },\n  created() {\n    this.load();\n    this.getCurrentSemester();\n  },\n  computed: {\n    filteredTableData() {\n      return this.tableData.filter(item => item.week === this.selectedWeek && item.semesterName === this.currentSemester);\n    }\n  },\n  methods: {\n    load() {\n      this.$request.get('/lesson/selectAll').then(res => {\n        this.tableData = res.data;\n      });\n    },\n    getCurrentSemester() {\n      this.$request.get('/semester/current').then(res => {\n        this.currentSemester = res.data;\n        console.log(this.currentSemester);\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","tableData","selectedWeek","currentSemester","user","JSON","parse","localStorage","getItem","days","value","label","options","created","load","getCurrentSemester","computed","filteredTableData","filter","item","week","semesterName","methods","$request","get","then","res","console","log"],"sources":["src/views/manager/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card class=\"box-card\" shadow=\"hover\">\n      <span>\n        当前, 是第\n        <el-select v-model=\"selectedWeek\" placeholder=\"1\" size=\"small\">\n            <el-option\n                v-for=\"item in options\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n            />\n          </el-select>\n          周\n      </span>\n      <span>\n        星期\n        <el-select v-model=\"selectedDay\" placeholder=\"一\" size=\"small\">\n          <el-option v-for=\"item in days\"\n                     :key=\"item.value\"\n                     :label=\"item.label\"\n                     :value=\"item.value\"\n          />\n        </el-select>\n      </span>\n\n      <el-table :data=\"filteredTableData\" border\n                style=\"margin-top:15px; overflow-x:hidden\">\n        <el-table-column prop=\"name\" label=\"课程\">\n        </el-table-column>\n        <el-table-column prop=\"className\" label=\"班级\"></el-table-column>\n        <el-table-column prop=\"teacherName\" label=\"教师\"></el-table-column>\n        <el-table-column prop=\"section\" label=\"节次\"></el-table-column>\n        <el-table-column prop=\"labNo\" label=\"实验室编号\"></el-table-column>\n      </el-table>\n    </el-card>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      tableData: [],\n      selectedWeek: 1,\n      currentSemester:'',\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      days:[\n        { value: '星期一', label: '一' },\n        { value: '星期二', label: '二' },\n        { value: '星期三', label: '三' },\n        { value: '星期四', label: '四' },\n        { value: '星期五', label: '五' }\n      ],\n      options:[\n        {\n          value: 1,\n          label: 1,\n        },\n        {\n          value: 2,\n          label: 2,\n        },\n        {\n          value: 3,\n          label: 3,\n        },\n        {\n          value: 4,\n          label: 4,\n        },\n        {\n          value: 5,\n          label: 5,\n        },\n        {\n          value: 6,\n          label: 6,\n        },\n        {\n          value: 7,\n          label: 7,\n        },\n        {\n          value: 8,\n          label: 8,\n        },\n        {\n          value: 9,\n          label: 9,\n        },\n        {\n          value: 10,\n          label: 10,\n        },\n        {\n          value: 11,\n          label: 11,\n        },\n        {\n          value: 12,\n          label: 12,\n        },\n        {\n          value: 13,\n          label: 13,\n        },\n        {\n          value: 14,\n          label: 14,\n        },\n        {\n          value: 15,\n          label: 15,\n        },\n        {\n          value: 16,\n          label: 16,\n        },\n        {\n          value: 17,\n          label: 17,\n        },\n        {\n          value: 18,\n          label: 18,\n        },\n        {\n          value: 19,\n          label: 19,\n        },\n        {\n          value: 20,\n          label: 20,\n        },\n      ],\n    }\n  },\n  created() {\n      this.load()\n    this.getCurrentSemester()\n  },\n  computed: {\n    filteredTableData() {\n      return this.tableData.filter(item => (item.week === this.selectedWeek) && (item.semesterName === this.currentSemester));\n    }\n\n  },\n  methods: {\n    load() {\n      this.$request.get('/lesson/selectAll').then(res => {\n          this.tableData = res.data\n      })\n    },\n    getCurrentSemester() {\n      this.$request.get('/semester/current')\n          .then(res => {\n            this.currentSemester = res.data\n            console.log(this.currentSemester)\n          })\n    },\n\n  }\n}\n</script>\n"],"mappings":"AA0CA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,YAAA;MACAC,eAAA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,IAAA,GACA;QAAAC,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,EACA;MACAC,OAAA,GACA;QACAF,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA;IAEA;EACA;EACAE,QAAA;IACA,KAAAC,IAAA;IACA,KAAAC,kBAAA;EACA;EACAC,QAAA;IACAC,kBAAA;MACA,YAAAhB,SAAA,CAAAiB,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,IAAA,UAAAlB,YAAA,IAAAiB,IAAA,CAAAE,YAAA,UAAAlB,eAAA;IACA;EAEA;EACAmB,OAAA;IACAR,KAAA;MACA,KAAAS,QAAA,CAAAC,GAAA,sBAAAC,IAAA,CAAAC,GAAA;QACA,KAAAzB,SAAA,GAAAyB,GAAA,CAAA1B,IAAA;MACA;IACA;IACAe,mBAAA;MACA,KAAAQ,QAAA,CAAAC,GAAA,sBACAC,IAAA,CAAAC,GAAA;QACA,KAAAvB,eAAA,GAAAuB,GAAA,CAAA1B,IAAA;QACA2B,OAAA,CAAAC,GAAA,MAAAzB,eAAA;MACA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}